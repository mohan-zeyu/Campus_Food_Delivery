<!--pages/delivery-history/index.wxml-->
<view class="delivery-history-page">
  <view class="earnings-banner">
    <view class="earn-label">ç´¯è®¡æ”¶ç›Š</view>
    <view class="earn-amount">Â¥{{earnings.total/100}}</view>
    <view class="earn-count text-sm">å…±å®Œæˆ {{earnings.count}} å•</view>
  </view>

  <view wx:if="{{loading}}" class="loading-wrap">åŠ è½½ä¸­...</view>
  <view wx:elif="{{history.length === 0}}" class="empty-state">
    <view style="font-size:80rpx">ğŸ“¦</view>
    <view class="text-secondary mt-16">æš‚æ— é…é€è®°å½•</view>
  </view>
  <view wx:else>
    <view class="history-card card" wx:for="{{history}}" wx:key="_id">
      <view class="row-between">
        <view class="text-bold">è®¢å• #{{item.order_id.slice(-6)}}</view>
        <view class="earn-fee text-primary text-bold">+Â¥{{item.delivery_fee_earned/100}}</view>
      </view>
      <view class="row-between mt-8">
        <view class="status text-secondary text-sm">{{item.status}}</view>
        <view class="time text-secondary text-sm">{{item.accepted_at}}</view>
      </view>
    </view>
  </view>
</view>
