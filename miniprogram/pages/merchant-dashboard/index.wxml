<!--pages/merchant-dashboard/index.wxml-->
<view class="merchant-dashboard-page" wx:if="{{!loading && merchant}}">
  <view class="store-header">
    <image class="store-cover" src="{{merchant.cover_image}}" mode="aspectFill"/>
    <view class="store-info">
      <view class="store-name text-bold">{{merchant.name}}</view>
      <view class="store-status row">
        <view class="status-dot {{merchant.status === 'open' ? 'open' : 'closed'}}"></view>
        <view class="text-sm">{{merchant.status === 'open' ? 'è¥ä¸šä¸­' : 'å·²æ‰“çƒŠ'}}</view>
      </view>
    </view>
    <view class="toggle-btn text-sm" bindtap="onToggleStatus">
      {{merchant.status === 'open' ? 'æ‰“çƒŠ' : 'å¼€ä¸š'}}
    </view>
  </view>

  <view class="quick-actions card">
    <view class="action-item" bindtap="onProductManage">
      <view class="action-icon">ğŸ½ï¸</view>
      <view class="action-label text-sm">å•†å“ç®¡ç†</view>
    </view>
    <view class="action-item" bindtap="onOrderManage">
      <view class="action-icon">ğŸ“‹</view>
      <view class="action-label text-sm">è®¢å•ç®¡ç†</view>
    </view>
  </view>

  <view class="stats-card card">
    <view class="stats-title text-bold mb-16">åº—é“ºæ•°æ®</view>
    <view class="stats-row row-between">
      <view class="stat-item">
        <view class="stat-num text-primary">{{merchant.avg_rating}}</view>
        <view class="stat-label text-secondary text-sm">å¹³å‡è¯„åˆ†</view>
      </view>
      <view class="stat-item">
        <view class="stat-num text-primary">{{merchant.rating_count}}</view>
        <view class="stat-label text-secondary text-sm">æ€»è¯„ä»·æ•°</view>
      </view>
    </view>
  </view>
</view>
<view wx:else class="loading-wrap">åŠ è½½ä¸­...</view>
