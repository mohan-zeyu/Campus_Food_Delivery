<!--pages/address-list/index.wxml-->
<view class="addr-list-page">
  <view wx:if="{{loading}}" class="loading-wrap">åŠ è½½ä¸­...</view>
  <view wx:elif="{{addresses.length === 0}}" class="empty-state">
    <view style="font-size:80rpx;margin-bottom:24rpx">ğŸ“</view>
    <view class="text-secondary">è¿˜æ²¡æœ‰æ”¶è´§åœ°å€</view>
  </view>
  <view wx:else>
    <view wx:for="{{addresses}}" wx:key="_id" class="addr-card card">
      <view class="addr-main" bindtap="onAddressTap" data-addr="{{item}}">
        <view class="addr-top row">
          <view class="tag">{{item.label}}</view>
          <view class="default-tag" wx:if="{{item.is_default}}">é»˜è®¤</view>
        </view>
        <view class="addr-location text-bold mt-8">{{item.building}} {{item.room}}</view>
        <view class="addr-contact text-secondary text-sm mt-8">{{item.contact}} {{item.phone}}</view>
      </view>
      <view class="addr-actions row-between">
        <view class="set-default text-secondary text-sm" wx:if="{{!item.is_default}}"
          catchtap="onSetDefault" data-id="{{item._id}}">è®¾ä¸ºé»˜è®¤</view>
        <view wx:else></view>
        <view class="action-btns row">
          <view class="action-btn text-secondary" catchtap="onEdit" data-id="{{item._id}}">ç¼–è¾‘</view>
          <view class="action-btn text-error" catchtap="onDelete" data-id="{{item._id}}">åˆ é™¤</view>
        </view>
      </view>
    </view>
  </view>

  <view class="add-btn-wrap">
    <view class="add-btn btn-primary" bindtap="onAdd">+ æ–°å¢åœ°å€</view>
  </view>
</view>
