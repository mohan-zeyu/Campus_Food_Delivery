<!--pages/delivery-hall/index.wxml-->
<view class="delivery-hall-page">

  <!-- æœªç™»å½•æˆ–éé…é€å‘˜ -->
  <view wx:if="{{role !== 'delivery'}}" class="not-delivery">
    <view style="font-size:80rpx;text-align:center;padding-top:200rpx">ğŸ›µ</view>
    <view class="text-secondary" style="text-align:center;margin-top:24rpx">
      {{role === 'user' ? 'æ‚¨è¿˜ä¸æ˜¯é…é€å‘˜ï¼Œå‰å¾€"æˆ‘çš„"ç”³è¯·' : 'è¯·å…ˆç™»å½•'}}
    </view>
  </view>

  <!-- é…é€å‘˜è§†å›¾ -->
  <view wx:else>
    <view class="hall-header">
      <view class="header-title">æ¥å•å¤§å…</view>
      <view class="order-count text-sm">å…± {{orders.length}} å•å¾…æ¥</view>
    </view>

    <view wx:if="{{loading}}" class="loading-wrap">åŠ è½½ä¸­...</view>
    <view wx:elif="{{orders.length === 0}}" class="empty-state">
      <view style="font-size:80rpx">ğŸ“­</view>
      <view class="text-secondary mt-16">æš‚æ— å¯æ¥è®¢å•</view>
    </view>
    <view wx:else>
      <view class="order-card card" wx:for="{{orders}}" wx:key="_id"
        bindtap="onOrderTap" data-id="{{item._id}}">
        <view class="order-head row-between">
          <view class="merchant-name text-bold">{{item.merchant_name}}</view>
          <view class="earn-fee text-primary text-bold">+Â¥{{item.delivery_fee/100}}</view>
        </view>
        <view class="order-addr text-secondary text-sm mt-8">
          ğŸ“ {{item.delivery_address.building}} {{item.delivery_address.room}}
        </view>
        <view class="order-foot row-between mt-16">
          <view class="total text-secondary text-sm">è®¢å•é‡‘é¢ Â¥{{item.total_amount/100}}</view>
          <view class="accept-btn">ç«‹å³æ¥å• â€º</view>
        </view>
      </view>
    </view>
  </view>
</view>
